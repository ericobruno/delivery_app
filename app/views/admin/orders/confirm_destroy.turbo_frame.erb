<turbo-frame id="modal">
  <div class="modal fade show" style="display:block; background:rgba(0,0,0,0.5);" tabindex="-1" data-controller="modal" data-action="click->modal#closeBackground">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header bg-danger text-white">
          <h5 class="modal-title">
            <i class="bi bi-trash-fill me-2"></i>
            Confirmar exclusão
          </h5>
          <button type="button" class="btn-close btn-close-white" data-action="click->modal#close"></button>
        </div>
        <div class="modal-body">
          <div class="alert alert-danger">
            <strong>Atenção!</strong> Esta ação não pode ser desfeita.
          </div>
          <p>Tem certeza que deseja excluir o pedido <strong>#<%= @order.id %></strong> do cliente <strong><%= @order.customer&.name %></strong>?</p>
          <p class="text-muted">
            <small>Status: <%= @order.status.titleize %></small>
          </p>
          <% if @order.scheduled_for.present? %>
            <p class="text-muted">
              <small>Agendado para: <%= l(@order.scheduled_for, format: :short) %></small>
            </p>
          <% end %>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-action="click->modal#close">Cancelar</button>
          <%= button_to 'Excluir', admin_order_path(@order), method: :delete, form: { data: { turbo_frame: 'modal' } }, class: 'btn btn-danger' %>
        </div>
      </div>
    </div>
  </div>
</turbo-frame> 